webpackJsonp([3],{"1Ve5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACgklEQVQ4T31T3UuaYRw9D2rlR2hgkigUQpg00Bh194YwtuC9MBESvO5+bDcbbGzELsYGg23/wYY3o6sR2tdelngjzIlgKJYI5fcamN8VWu/2PCxn5fbcPS/POb9zzu+8BNdOIpG4m8lknrdarVvHx8caQggGBwdbcrk8bTKZnthsNl8vhPRetra2/KVSiZ+dnYVer8fw8DA6nQ4ajQbS6TRisRjMZvOn+fl5zyWuSxCLxb7v7u7edrlcqNVqDFCtViGVSqFWqzE1NYWTkxP4fD7wPP9Vr9ffoSSMoNFoPFpdXX3N8zyi0Sgymcx1Z6BWqDKZTMbIHQ7HQ0LIOyKKom1vby+aSqWY3KOjoxvg3g8cxyEUCsHtdldVKpWd1Gq1V4IgPB4YGEA+n/8nmGZSLBaZAq1Wi3a7DYvF8pGsr6//yGazuv+N1el0WFhYgNfrvfLMYDD8JGtra+1isSjtR0CB4+PjNHkoFApsb2/j4OCg+9RoNHZuEJhMJlitVoyMjLAN9J5kMolgMHiV4LqF5eVlSCSSvo4KhQJbI82BZmA2m3OkUCi8L5fL92lpNjc3sbS0xKb3O7lcDoIgwOPxwO/3w+l0vmBrBBAAoN7Z2YFSqcTc3BxKpRIuLi4YT71eZzmEw2Faa9bQSqVyOjMzY2FFEkXxAYC35+fniEQimJychFwuRzweZ3JpLjQPukYaLFVht9ufajSal90qi6L4GcAiJTw7O2OT6GSaPs2Eqtnf3wcNkuO4L1qt9l63ypd+/yhZoXay2Sw2NjYwOjrKSJrNJiYmJk6np6efDQ0NvbnxM/WQ0Eych4eHi4FAwDo2NtbhOO6bQqEQAHwghPwtwm/QLzJWFGGxFZ6DAAAAAElFTkSuQmCC"},"8dGx":function(t,e){},ACEq:function(t,e){},J3Nx:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABg0lEQVQ4T+2RPWhUQRSFz5kZFnYlhY2KIPhTLC7s290ZEEELrSWVYJVOFGy0FK0tLCwSS7ULpElhkwhi0EILJdx5VSSNf9gIFpYLsrwjb8nDbnn2TnGHuZz5mPsNcbBGo9E5kr3mvGj33n83s091hnUZj8cnvfd7knbbAEhOAFw2szwHxBjvkzw1nU7vdjqdYhGkqqqPIYTbJJfM7M4ckFLal3QDwHEAtxYBJK07514B+GBmJxhjTADWc86DNs9vMjHGHUmPa8AqyS9mtvYvgMlkcp3kJaaUngN4ZmbbNWAwGBzrdrsrALbMbL/u9fv9pV6vdw3ATlmW3w7EX/De35uPQHITwCNJP0iuSXpH8iKApwDeA3go6TOA5bo3m822Qgirkm42Et8AyFVV/XLOvai/pyiKQyGEKwDOAnidc36bUhpKWpF0xjl32sxiA3gp6UEdauMhxliQfGJm5/8D/jrYAPBb0tc2EkkelXQk53x1LnE4HB723o/aXG4yJPfKsvz5B4E9xU1Y2MeqAAAAAElFTkSuQmCC"},"Jhn/":function(t,e,a){"use strict";var i=a("7QTg"),s={name:"MeSlider",data:function(){return{keyId:Math.random()}},components:{swiper:i.swiper},props:{direction:{type:String,default:"horizontal",validator:function(t){return["horizontal","vertical"].indexOf(t)>-1}},interval:{type:Number,default:3e3,validator:function(t){return t>=0}},loop:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},data:{type:Array,default:function(){return[]}}},watch:{data:function(t){0!==t.length&&(this.swiperOption.loop=!(t.length<=1)&&this.loop,this.keyId=Math.random())}},created:function(){this.init()},methods:{init:function(){this.swiperOption={watchOverflow:!0,direction:this.direction,autoplay:!!this.interval&&{delay:this.interval,disableOnInteraction:!1},slidesPerView:1,loop:!(this.data.length<=1)&&this.loop,pagination:{el:this.pagination?".swiper-pagination":null}}}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("swiper",{key:this.keyId,attrs:{options:this.swiperOption}},[this._t("default"),this._v(" "),this.pagination?e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):this._e()],2)],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(t){a("awkS")},"data-v-36f57df1",null);e.a=r.exports},LcjH:function(t,e){},WNfT:function(t,e){},awkS:function(t,e){},bOE1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACaklEQVQ4T42ST2gaQRTGZ3bX0dqUHAq2oYeNVJJDEUqRVhSEkENugthDpTkkRDfLbsBeUjxIKqTQg1jwL+4ukT156UFo6bGl/6BSRBIopWAEtQfBkylBXTfulJUSaqsl7/jme79v5psHwYxiGOamwWB4DyEc9vv9lYODg+Y0KZwF4DjuncfjcQ8GA1ipVN5kMpm1CwOCwaATIfQhHo8bNE0Du7u7GsbYLgjCt78hU2/A8/zb1dVVj8/nI/WBYrGolcvl1+l02jsVwDCMGQBwB2N8FyG0gjFe093NZr0NwMnJCYhEIhpFUS8VRfkIIfwyHA4rsiwPYDgcDqmqmpqfn1dpmiYXFxfNS0tLwGq1TpjVajVQr9dBo9Hot1qtUbfbRSaTiYMsy/YjkYiJpulZeU7tHx8fg0QiMYA7OzufXC6XIxAIGC9KUFUVpFKpUbPZLMOtrS0aIfTZ4XBc3dzcRBDO/Nkx/4/hr4qiuMZqlmVvEARRXl5evsbzvIEkx+H/U2dnZyCZTI4ajUb99PT0nizL3XO7jY2N6wih9v7+PrBYLFMB7XYbxGIxjSCIhXw+39FF5wB9dSmK+p7NZqlZWWCMAcdxmqZpVlEUWxOAYDB4n6ZpORqNXv5fmHt7e71Op/NAEIRXEwCWZZ+53e7H6+vrhO50dHQESqXST4QQ9Hq9V+x2+5hbKBT0rXwiSdLTCQDP84LT6QzZbDZYKpX6vV7vh6IoDITQaDQa83Nzcwt+v990eHiIq9VqKpfLPZoAhEKhWyRJVgiC6KqqGpYk6QUAAP9+Dtze3n5IkuRzjPGl0Wh0WxTFun72CyZPBUwOrkqXAAAAAElFTkSuQmCC"},iqwp:function(t,e){},po70:function(t,e){},qrcC:function(t,e){},taF9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("//Fk"),s=a.n(i),n=a("odKQ"),r=a("8MDr"),o={name:"ProductHeader",data:function(){return{}},components:{"me-navbar":a("/l8+").a},methods:{goBack:function(){this.$router.back()}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("me-navbar",{staticClass:"header",attrs:{title:"商品详情"}},[e("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:this.goBack},slot:"left"}),this._v(" "),e("i",{staticClass:"iconfont icon-cart",attrs:{slot:"right"},slot:"right"})])},staticRenderFns:[]};var l=a("VU/8")(o,c,!1,function(t){a("WNfT")},"data-v-151b550d",null).exports,d="horizontal",u=!0,p=0,h=!0,f=[{linkUrl:"https://www.imooc.com",picUrl:a("J3Nx"),text:"店铺"},{linkUrl:"https://www.imooc.com",picUrl:a("1Ve5"),text:"客服"},{linkUrl:"https://www.imooc.com",picUrl:a("bOE1"),text:"收藏"}],v={name:"ProductFooter",data:function(){return{navs:f}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("ul",{staticClass:"nav-list"},t._l(t.navs,function(e,i){return a("li",{key:i,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:e.linkUrl}},[a("img",{staticClass:"nav-pic",attrs:{src:e.picUrl}}),t._v(" "),a("span",[t._v(t._s(e.text))])])])}),0),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-btns"},[e("button",{staticClass:"footer-btn btn-cart"},[this._v("加入购物车")]),this._v(" "),e("button",{staticClass:"footer-btn btn-buy"},[this._v("马上抢")])])}]};var A=a("VU/8")(v,m,!1,function(t){a("8dGx")},"data-v-5ec26fac",null).exports,g=a("Jhn/"),C=a("7QTg"),w={name:"ProductSlider",data:function(){return{sliders:[],direction:d,loop:u,interval:p,pagination:h}},props:{picSliders:{type:Array,default:[]}},watch:{picSliders:function(t){this.sliders=t}},components:{"me-slider":g.a,"me-loading":n.a,swiperSlide:C.swiperSlide}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slider-wrapper"},[t.sliders.length?t._e():a("me-loading"),t._v(" "),t.sliders.length?a("me-slider",{attrs:{direction:t.direction,interval:t.interval,loop:t.loop,pagination:t.pagination,data:t.sliders}},t._l(t.sliders,function(t,e){return a("swiper-slide",{key:e},[a("a",{staticClass:"slider-link",attrs:{href:"javascript:;"}},[a("img",{staticClass:"slider-img",attrs:{src:t}})])])}),1):t._e()],1)},staticRenderFns:[]};var b=a("VU/8")(w,_,!1,function(t){a("iqwp")},"data-v-34ec7f50",null).exports,k={name:"ProductPrice",data:function(){return{priceText:"",sellCount:"",postage:"",vagueSellCount:"",from:""}},props:{detailData:{type:Object,default:{}},title:{type:String,default:""}},watch:{detailData:function(t){this.detailData=t,this.initData(t)},title:function(t){this.title=t}},methods:{initData:function(t){this.priceText=t.price.price.priceText,this.sellCount=t.item.sellCount,this.postage=t.delivery.postage,this.vagueSellCount=t.item.vagueSellCount,this.from=t.delivery.from}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-price"},[a("div",{staticClass:"price-top"},[a("p",{staticClass:"price-left"},[t._v("￥"),a("span",[t._v(t._s(t.priceText))])]),t._v(" "),a("span",{staticClass:"price-right"},[t._v(t._s(t.sellCount)+"件已售")])]),t._v(" "),a("div",{staticClass:"price-bottom"},[a("p",{staticClass:"price-title"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"deliery-box"},[a("span",{staticClass:"delivery-postage"},[t._v(t._s(t.postage))]),t._v(" "),a("span",{staticClass:"month-sold"},[t._v("月销量 "+t._s(t.vagueSellCount)+"件")]),t._v(" "),a("span",{staticClass:"delivery-price"},[t._v(t._s(t.from))])])])])},staticRenderFns:[]};var y=a("VU/8")(k,S,!1,function(t){a("LcjH")},"data-v-539cc52a",null).exports,T={name:"ProductRate",data:function(){return{totalCount:"",keywords:[],headPic:"",userName:"",content:"",dateTime:"",skuInfo:""}},props:{productData:{type:Object,default:{}}},watch:{productData:function(t){this.init(t)}},methods:{init:function(t){this.totalCount=t.rate.totalCount,this.keywords=t.rate.keywords,this.headPic=t.rate.rateList[0].headPic,this.userName=t.rate.rateList[0].userName,this.content=t.rate.rateList[0].content,this.dateTime=t.rate.rateList[0].dateTime,this.skuInfo=t.rate.rateList[0].skuInfo}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-rate"},[a("div",{staticClass:"rate-top"},[t._v("\n        商品评价("+t._s(t.totalCount)+")\n    ")]),t._v(" "),a("div",{staticClass:"rate-center"},[a("ul",{staticClass:"rate-list"},t._l(t.keywords,function(e,i){return a("li",{staticClass:"rate-item"},[a("a",{staticClass:"rate-link",attrs:{href:"javascript:;"}},[t._v("\n                    "+t._s(e.word)+"("+t._s(e.count)+") \n                ")])])}),0)]),t._v(" "),a("div",{staticClass:"rate-bottom"},[a("div",{staticClass:"rate-user"},[a("img",{attrs:{src:t.headPic,alt:""}}),a("span",[t._v(t._s(t.userName))])]),t._v(" "),a("div",{staticClass:"rate-userContent"},[t._v(t._s(t.content))]),t._v(" "),a("div",{staticClass:"rate-time"},[t._v(t._s(t.dateTime)+" "+t._s(t.skuInfo))])])])},staticRenderFns:[]};var x=a("VU/8")(T,E,!1,function(t){a("uK23")},"data-v-4115bf96",null).exports,N={name:"ProductSeller",data:function(){return{shopIcon:"",evaluates:[],sellerNick:"",creditLevelIcon:""}},props:{productData:{type:Object,default:{}}},watch:{productData:function(t){this.init(t)}},methods:{init:function(t){this.shopIcon=t.seller.shopIcon,this.sellerNick=t.seller.sellerNick,this.creditLevelIcon=t.seller.creditLevelIcon,this.evaluates=t.seller.evaluates}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-seller"},[a("div",{staticClass:"seller-top"},[a("div",{staticClass:"seller-img-wrapper"},[a("img",{attrs:{src:t.shopIcon,alt:""}})]),t._v(" "),a("div",{staticClass:"seller-nick"},[a("p",{staticClass:"seller-title"},[t._v(t._s(t.sellerNick))]),t._v(" "),a("div",{staticClass:"icon-wrapper"},[a("img",{staticClass:"shop-icon",attrs:{src:t.creditLevelIcon,alt:""}})])])]),t._v(" "),a("div",{staticClass:"seller-evaluates"},[a("ul",{staticClass:"seller-list"},t._l(t.evaluates,function(e,i){return a("li",{key:i,staticClass:"seller-item"},[t._v(t._s(e.title)+" "+t._s(e.score))])}),0)])])},staticRenderFns:[]};var B={name:"ProductContent",data:function(){return{product:{item:{title:""}},detailData:{}}},components:{"product-price":y,"product-rate":x,"product-seller":a("VU/8")(N,P,!1,function(t){a("ACEq")},"data-v-52da2584",null).exports},props:{content:{type:Object,default:{}}},watch:{content:function(t){this.product=t,this.detailData=JSON.parse(t.apiStack[0].value)}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("product-price",{attrs:{detailData:this.detailData,title:this.product.item.title}}),this._v(" "),e("product-rate",{attrs:{productData:this.product}}),this._v(" "),e("product-seller",{attrs:{productData:this.product}})],1)},staticRenderFns:[]};var D=a("VU/8")(B,L,!1,function(t){a("qrcC")},"data-v-672ae938",null).exports,V=(a("mtWM"),a("cQcd")),O=a("T452"),Q=a("22O3"),F={name:"Product",data:function(){return{isLoading:!1,products:{},sliders:[]}},components:{"me-loading":n.a,"me-scroll":r.a,"product-header":l,"product-footer":A,"product-slider":b,"product-content":D},created:function(){var t=this;this.getProduct().then(function(){t.isLoading=!1,setTimeout(function(){t.updateScroll()},1e3)})},methods:{getProduct:function(){var t=this;if(this.$route.params.id){this.isLoading=!0;var e=this.$route.params.id,a=Q.a.get("mall-product-content-key"),i=void 0,s=(new Date).getTime();return a&&a[e]?(i=a[e].updateTime||0,s-i<=864e5?this.getProductByLocalStorage(a[e]):this.getProductByHTTP(e).then(function(){t.updateLocalStorage(a,e,s)})):this.getProductByHTTP(e).then(function(){t.updateLocalStorage(a,e,s)})}},getProductByLocalStorage:function(t){var e=this;return new s.a(function(a){setTimeout(function(){e.products=t.data,e.sliders=t.data.item.images,a()},1e3)})},getProductByHTTP:function(t){var e=this;return function(t){var e={api:"mtop.taobao.detail.getdetail",ttid:"2017@taobao_h5_6.6.0",data:'{"itemNumId":"'+t+'"}',appKey:12574478,dataType:"jsonp",type:"jsonp",v:"6.0"};return Object(V.a)("https://unszacs.m.taobao.com/h5/mtop.taobao.detail.getdetail/6.0/",e,O.d).then(function(t){if(t.data)return t.data;throw new Error("没有成功获取到数据！")}).catch(function(t){t&&console.log(t)}).then(function(t){return new s.a(function(e){setTimeout(function(){e(t)},1e3)})})}(t).then(function(t){return new s.a(function(a){t&&(e.products=t,console.log(e.products),e.sliders=t.item.images,a())})})},updateLocalStorage:function(t,e,a){(t=t||{})[e]={},t[e].data=this.products,t[e].updateTime=a,Q.a.set("mall-product-content-key",t)},updateScroll:function(){this.$refs.scroll&&this.$refs.scroll.update()}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"product",appear:""}},[a("div",{staticClass:"product"},[a("header",{staticClass:"g-header-container"},[a("product-header",{ref:"header"})],1),t._v(" "),t.isLoading?a("div",{staticClass:"loading-container"},[a("div",{staticClass:"loading-wrapper"},[a("me-loading")],1)]):t._e(),t._v(" "),a("me-scroll",{ref:"scroll"},[a("product-slider",{ref:"slider",attrs:{picSliders:t.sliders}}),t._v(" "),a("product-content",{attrs:{content:t.products}})],1),t._v(" "),a("product-footer",{staticClass:"g-footer-container"})],1)])},staticRenderFns:[]};var Y=a("VU/8")(F,U,!1,function(t){a("po70")},"data-v-03e19609",null);e.default=Y.exports},uK23:function(t,e){}});
//# sourceMappingURL=3.c68f09329c7482fc5866.js.map