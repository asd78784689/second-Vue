{"version":3,"sources":["webpack:///src/pages/search/header.vue","webpack:///./src/pages/search/header.vue?e258","webpack:///./src/pages/search/header.vue","webpack:///./src/assets/js/mixins.js","webpack:///./src/pages/search/config.js","webpack:///src/pages/search/hot.vue","webpack:///./src/api/search.js","webpack:///./src/pages/search/hot.vue?5aab","webpack:///./src/pages/search/hot.vue","webpack:///src/pages/search/history.vue","webpack:///./src/pages/search/history.vue?6cdd","webpack:///./src/pages/search/history.vue","webpack:///src/base/confirm/index.vue","webpack:///./src/base/confirm/index.vue?0056","webpack:///./src/base/confirm/index.vue","webpack:///src/pages/search/result.vue","webpack:///./src/pages/search/result.vue?a3a6","webpack:///./src/pages/search/result.vue","webpack:///src/pages/search/index.vue","webpack:///./src/pages/search/index.vue?021d","webpack:///./src/pages/search/index.vue"],"names":["header","name","data","components","me-navbar","navbar","me-search-box","search_box","methods","query","_query","this","$emit","goBack","$router","back","search_header","render","_h","$createElement","_c","_self","staticClass","attrs","slot","on","click","_v","placeholder","staticRenderFns","pages_search_header","__webpack_require__","normalizeComponent","ssrContext","searchMixin","$_selectItem","keyword","keywords","storage","get","prefix","length","filter","val","unshift","set","location","href","hot","hots","me-loading","loading","mixins","created","_this","getHotKeyword","then","_this2","axios","timeout","TIMEOUT","res","hotKeyWord","owner","Error","catch","err","console","log","promise_default","a","resolve","setTimeout","search_hot","_vm","_l","item","index","key","$event","hotWord","_s","pages_search_hot","hot_normalizeComponent","search_history","historys","getKeyword","removeItem","showConfirm","clear","remove","update","pages_search_history","tag","stopPropagation","_e","src_pages_search_history","history_normalizeComponent","base_confirm","visible","props","msg","type","String","default","title","cancelBtnText","confirmBtnText","show","hide","cancel","confirm","selectortype_template_index_0_src_base_confirm","directives","rawName","value","expression","src_base_confirm","confirm_normalizeComponent","result","results","watch","getResults","params","q","code","area","nick","sid","jsonp","jsonpOptions","search_getSearchResult","search_result","pages_search_result","result_normalizeComponent","search","search-header","me-scroll","base_scroll","search-hot","search-history","me-confirm","search-result","getQuery","updateScroll","$refs","scroll","cancelConfirm","clearAllSearchHistorys","history","pages_search","ref","loaded","remove-item","show-confirm","search_Component","search_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.a9289e63e97a4030cd16.js","sourcesContent":["<!-- search头部header组件 -->\r\n<template>\r\n    <me-navbar class='header'>\r\n        <i class=\"iconfont icon-back\" slot=\"left\" @click=\"goBack\"></i>\r\n        <me-search-box slot='center' placeholder=\"搜索框\" @query=\"query\"></me-search-box>\r\n    </me-navbar>\r\n</template>\r\n\r\n<script>\r\n    import MeNavBar from '@/base/navbar';\r\n    import MeSearchBox from '@/base/search-box';\r\n\r\n    export default{\r\n        name:'SearchHeader',\r\n        data(){\r\n            return{\r\n\r\n            }\r\n        },\r\n        components:{\r\n            'me-navbar':MeNavBar,\r\n            'me-search-box':MeSearchBox\r\n        },\r\n        methods:{\r\n            query(query){\r\n                // 将接收的query值再通过传递出去给父级组件用于调用显示对应模块\r\n                this.$emit('query',query);\r\n            },\r\n            goBack(){\r\n                // 返回上一级\r\n                this.$router.back();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n    .header{\r\n        border-bottom: 1px solid $border-color;\r\n\r\n        .iconfont{\r\n            color: $icon-color;\r\n            font-size: $icon-font-size;\r\n        }\r\n\r\n        .mine-search-box-wrapper{\r\n            background-color: #f7f7f7;\r\n        }\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/search/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('me-navbar',{staticClass:\"header\"},[_c('i',{staticClass:\"iconfont icon-back\",attrs:{\"slot\":\"left\"},on:{\"click\":_vm.goBack},slot:\"left\"}),_vm._v(\" \"),_c('me-search-box',{attrs:{\"slot\":\"center\",\"placeholder\":\"搜索框\"},on:{\"query\":_vm.query},slot:\"center\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fd2508a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1fd2508a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fd2508a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1fd2508a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/header.vue\n// module id = null\n// module chunks = ","// 可复用函数 只有调用时候放在methods中混合起来\r\nimport storage from '@/assets/js/storage';       //缓存数据组件\r\nimport {SEARCH_HISTORY_KEYWORD_KEY} from '@/pages/search/config';  //缓存的key值\r\n\r\nexport const searchMixin = {\r\n    methods:{\r\n        $_selectItem(keyword){\r\n            //被点击项 传入他的文字\r\n            // 先在缓存中获取一次 如果没有值就设为一个数组\r\n            let keywords = storage.get(SEARCH_HISTORY_KEYWORD_KEY,[]);\r\n        \r\n            if(keywords.length !== 0){\r\n                // 如果缓存数组长度不为0 \r\n                // .filter()进行过滤操作 缓存数组中每一项进行循环 如果值不等于被点击项的文字\r\n                //就返回最后组成一个新的数组 \r\n                keywords = keywords.filter(val => val !== keyword);\r\n            }\r\n            //将被点击项放到缓存数组中的开头\r\n            keywords.unshift(keyword);\r\n            //重新设置缓存数据\r\n            storage.set(SEARCH_HISTORY_KEYWORD_KEY,keywords);\r\n            //跳转的页面 将点击项的文字拼接进去\r\n            location.href = `https://s.m.taobao.com/h5?event_submit_do_new_search_auction=1&_input_charset=utf-8&topSearch=1&atype=b&searchfrom=1&action=home%3Aredirect_app_action&from=1&sst=1&n=20&buying=buyitnow&q=${keyword}`;\r\n            \r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/mixins.js","const prefix = 'mall-search';\r\nconst suffix = 'key';\r\n// 返回一个用于storage缓存的key值前缀\r\nexport const SEARCH_HISTORY_KEYWORD_KEY = `${prefix}-history-keyword-${suffix}`;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/config.js","<!-- search搜索栏 热门搜索组件 -->\r\n<template>\r\n    <div class=\"hot\">\r\n        <h4 class=\"hot-title\">热门搜索</h4>\r\n        <div class=\"loading-container\" v-if=\"!hots.length\">\r\n            <me-loading></me-loading>\r\n        </div>\r\n        <ul class=\"hot-list\" v-else>\r\n            <!-- 有个点击事件 表示选中该项 -->\r\n            <li class=\"hot-item\" v-for=\"(item,index) in hots\" :key=\"index\" @click='$_selectItem(item.hotWord)'>{{item.hotWord}}</li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n<script>\r\n    import MeLoading from '@/base/loading';             //加载中组件\r\n    import {getSearchHotKeyword} from '@/api/search';    //获取热门推荐数据\r\n    import {searchMixin} from '@/assets/js/mixins';    //引入公共方法中的搜索mixin\r\n    \r\n    export default{\r\n\r\n\r\n        data(){\r\n            return{\r\n                hots:[]\r\n            }\r\n        },\r\n        components:{\r\n            'me-loading':MeLoading\r\n        },\r\n        mixins:[searchMixin],    //这样就算是注册了import过来的mixin方法\r\n        created(){\r\n            // \r\n            this.getHotKeyword().then(()=>{\r\n                this.$emit('loaded');\r\n            });\r\n        },\r\n        methods:{\r\n            getHotKeyword(){\r\n                return getSearchHotKeyword().then(data=>{\r\n                    return new Promise(resolve =>{\r\n                        if(data){\r\n                            this.hots = data;\r\n                            // console.log(data);\r\n                            resolve();  //只有加了这一步才会去执行then\r\n                        }\r\n                    })\r\n                });\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n    \r\n    .hot{\r\n        background-color: #fff;\r\n        padding: 10px;\r\n        \r\n        &-title{\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            margin-bottom:15px;\r\n        }\r\n\r\n        &-list{\r\n            @include flex-between();\r\n            justify-content: flex-start;\r\n            flex-wrap:wrap;\r\n            padding-right: 15px;\r\n        }\r\n\r\n        &-item{\r\n            font-size: 14px;\r\n            background-color: #ccc;\r\n            padding: 5px;\r\n            text-align: center;\r\n            margin-right: 10px;\r\n            margin-bottom: 10px;\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/search/hot.vue","import axios from 'axios';\r\nimport jsonp from '@/assets/js/jsonp';\r\nimport {jsonpOptions, TIMEOUT} from './config';\r\n\r\n// 获取热门搜索数据--ajax\r\n//这里是慕课网处理好的接口 所以可以直接用ajax 不然也是得用jsonp获取\r\n    \r\nexport const getSearchHotKeyword = () => {\r\n  //https://so.m.jd.com/ware/hotKeyWord.action?_format_=json\r\n  return axios.get('http://www.imooc.com/api/search/hot', {\r\n    // timeout: 10\r\n    timeout: TIMEOUT\r\n  }).then(res => {\r\n    // console.log(res);\r\n    // res = JSON.parse(res.data.hotKeyWord);  //获取到的json数据转化为对象\r\n    res = res.data.hotKeyWord;            //由于该接口返回的是json对象所以无需转换\r\n    if (res && res.owner) { // succeed\r\n      return res.owner;\r\n    }\r\n\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);        //延迟一秒后执行 返回一个promise对象\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取搜索结果数据--jsonp\r\nexport const getSearchResult = keyword => {\r\n  const url = 'https://suggest.taobao.com/sug';\r\n  const params = {\r\n    q: keyword,\r\n    code: 'utf-8',\r\n    area: 'c2c',\r\n    nick: '',\r\n    sid: null\r\n  };\r\n\r\n  // jsonpOptions.timeout = 100;\r\n\r\n  return jsonp(url, params, jsonpOptions).then(res => {\r\n    //通过封装的jsonp函数方法将params中的属性一一写到url之后然后去请求数据返回\r\n    // console.log(res);   \r\n    if (res.result) {\r\n      // console.log(res);\r\n      return res.result;\r\n    }\r\n\r\n    throw new Error('没有成功获取到数据！');\r\n  }).catch(err => {\r\n    if (err) {\r\n      console.log(err);\r\n    }\r\n  }).then(res => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        resolve(res);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/search.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hot\"},[_c('h4',{staticClass:\"hot-title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),(!_vm.hots.length)?_c('div',{staticClass:\"loading-container\"},[_c('me-loading')],1):_c('ul',{staticClass:\"hot-list\"},_vm._l((_vm.hots),function(item,index){return _c('li',{key:index,staticClass:\"hot-item\",on:{\"click\":function($event){return _vm.$_selectItem(item.hotWord)}}},[_vm._v(_vm._s(item.hotWord))])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69be860e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/hot.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69be860e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./hot.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69be860e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./hot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69be860e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/hot.vue\n// module id = null\n// module chunks = ","<!-- search搜索栏 history历史纪录组件 -->\r\n<template>\r\n    <div class=\"history\" v-if=\"historys.length\"> \r\n        <h4 class=\"history-title\">历史搜索</h4>\r\n        <!-- 因为要给ul下的li做动画效果 但是transition不能直接包裹li 所以 要用transition-group 通过tag=\"ul\"这个属性值能够使其在渲染时候为ul标签 还相当于有transition标签包住了每一条的li -->\r\n        <transition-group name='list' tag=\"ul\" class=\"g-list\">\r\n            <li class=\"g-list-item\" v-for=\"item in historys\" :key=\"item\" @click=\"$_selectItem(item)\">\r\n                <span class=\"g-list-text\">{{item}}</span>\r\n                <!-- 用.stop阻止冒泡 不然会触发li上面的click事件 -->\r\n                <i class=\"iconfont icon-delete\" @click.stop=\"removeItem(item)\"></i>\r\n            </li>\r\n        </transition-group>\r\n        <a href=\"javascript:;\" class=\"history-btn\" @click=\"showConfirm\"><i class=\"iconfont icon-clear\"></i>清空历史搜索</a>\r\n    </div>\r\n</template>\r\n<script>\r\n     import storage from '@/assets/js/storage';\r\n     import {SEARCH_HISTORY_KEYWORD_KEY} from './config';\r\n     import {searchMixin} from '@/assets/js/mixins';\r\n\r\n    export default{\r\n        name:'SearchHistory',\r\n \r\n        data(){\r\n            return{\r\n                historys:[]\r\n            }\r\n        },\r\n        mixins:[searchMixin],\r\n        created(){\r\n            this.getKeyword().then(()=>{\r\n                this.$emit('loaded');\r\n            });\r\n        },\r\n        methods:{\r\n            getKeyword(){\r\n                this.historys = storage.get(SEARCH_HISTORY_KEYWORD_KEY,[]);\r\n                return new Promise(resolve=> resolve());\r\n            },\r\n            removeItem(keyword){\r\n                \r\n                // .filter()进行过滤操作 缓存数组中每一项进行循环 如果值不等于被点击项的文字\r\n                //就返回最后组成一个新的数组 \r\n                this.historys = this.historys.filter(val => val !== keyword);\r\n            \r\n                //重新设置缓存数据\r\n                storage.set(SEARCH_HISTORY_KEYWORD_KEY,this.historys);\r\n                setTimeout(()=>{\r\n                    // 因为有动画效果的删除 所有发送信息不能太快 不然更新失败\r\n                    this.$emit('remove-item');\r\n                },100);\r\n                // this.$emit('remove-item');\r\n            },\r\n            showConfirm(){\r\n                //曝出一个状态信息 用于显示一个弹窗 提示是否清空\r\n                this.$emit('show-confirm');\r\n            },\r\n            clear(){\r\n                // 清空缓存数据\r\n                storage.remove(SEARCH_HISTORY_KEYWORD_KEY);\r\n            },\r\n            update(){\r\n                //进行更新 再次获取数据 \r\n                this.getKeyword();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n    \r\n    .history{\r\n        padding-bottom: 30px;\r\n        background-color: #fff;\r\n\r\n        &-title{\r\n            height: 34px;\r\n            line-height: 34px;\r\n            padding: 0 10px;\r\n            font-size: $font-size-l;\r\n            font-weight: bold;\r\n        }\r\n\r\n        &-btn{\r\n            @include flex-center();\r\n            width: 80%;\r\n            height: 40px;\r\n            background:none;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n            margin: 0 auto;\r\n            color: #686868;\r\n        }\r\n    }\r\n\r\n    .list{\r\n        // 实现了在100毫秒内高度变为0\r\n        &-enter-active,&-leave-active{\r\n            transition: height 0.1s;\r\n        }\r\n        &-enter,&-leave-to{\r\n            height: 0;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/search/history.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.historys.length)?_c('div',{staticClass:\"history\"},[_c('h4',{staticClass:\"history-title\"},[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('transition-group',{staticClass:\"g-list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.historys),function(item){return _c('li',{key:item,staticClass:\"g-list-item\",on:{\"click\":function($event){return _vm.$_selectItem(item)}}},[_c('span',{staticClass:\"g-list-text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeItem(item)}}})])}),0),_vm._v(\" \"),_c('a',{staticClass:\"history-btn\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"iconfont icon-clear\"}),_vm._v(\"清空历史搜索\")])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fa9e1d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/history.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3fa9e1d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./history.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3fa9e1d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./history.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3fa9e1d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/history.vue\n// module id = null\n// module chunks = ","<!-- confirm 弹窗组件 -->\r\n<template>\r\n    <transition name=\"mine-confirm\">\r\n        <div class=\"mine-confirm-wrapper\" v-show=\"visible\">\r\n            <div class=\"mine-confirm\">\r\n                <div class=\"mine-confirm-title\">{{title}}</div>\r\n                <div class=\"mine-confirm-msg\">{{msg}}</div>\r\n                <div class=\"mine-confirm-btns\">\r\n                    <button class=\"mine-confirm-btn mine-confirm-cancel\" @click=\"cancel\">{{cancelBtnText}}</button>\r\n                    <button class=\"mine-confirm-btn mine-confirm-ok\" @click=\"confirm\">{{confirmBtnText}}</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n    \r\n\r\n    export default{\r\n        name:'MeConfirm',\r\n        data(){\r\n            return{\r\n                visible:false\r\n            }\r\n        },\r\n        props:{\r\n            msg:{\r\n                type:String,\r\n                default:'确定执行此操作吗？'\r\n            },\r\n            title:{\r\n                type:String,\r\n                default:''\r\n            },\r\n            cancelBtnText:{\r\n                type:String,\r\n                default:'取消'\r\n            },\r\n            confirmBtnText:{\r\n                type:String,\r\n                default:'确定'\r\n            },\r\n        },\r\n        methods:{\r\n            show(){\r\n                this.visible = true;\r\n            },\r\n            hide(){\r\n                this.visible = false;\r\n            },\r\n            cancel(){   \r\n                this.hide();\r\n                this.$emit('cancel');\r\n            },      \r\n            confirm(){\r\n                this.hide();\r\n                this.$emit('confirm');\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n\r\n    .mine-confirm-wrapper{\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        z-index: $search-popup-z-index;\r\n        @include flex-center();\r\n        background-color: $modal-bgc;\r\n\r\n    }\r\n\r\n    .mine-confirm{\r\n        overflow: hidden;\r\n        width: 88%;\r\n        background-color: #fff;\r\n        border-radius: 10px;\r\n        font-size: 16px;\r\n    \r\n        &-title{\r\n            padding: 20px 15px 0;\r\n            font-size: 18px;\r\n            text-align: center;\r\n            @include ellipsis();\r\n\r\n            & + .mine-confirm-msg{\r\n                padding-top: 20px;\r\n                padding-bottom: 20px;\r\n            }\r\n        }\r\n\r\n        &-msg{\r\n            padding:40px 15px;\r\n            text-align: center;\r\n            line-height: 1.5;\r\n        }\r\n        \r\n        &-btns{\r\n            @include flex-center();\r\n        }\r\n\r\n        &-btn{\r\n            flex: 1;\r\n            height: 44px;\r\n            line-height: 44px;\r\n            background: none;\r\n            border: none;\r\n        }\r\n\r\n        &-cancel{\r\n            border-top: 1px solid #e3e5e9;\r\n        }\r\n\r\n        &-ok{\r\n            background-color: #f23030;\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n    .mine-confirm{\r\n        // 这一个confirm是transition的name opacity作用于整体 也就是遮罩层的透明度 \r\n        &-enter-active,&-leave-active{\r\n            transition: opacity .3s;\r\n        }\r\n        &-enter,&-leave-to{\r\n            opacity: 0;\r\n        }\r\n        // 开始进行显示时 执行关键帧动画效果 从0-1.1-1的放大效果\r\n        &-enter-active{\r\n            .mine-confirm{\r\n                // 这一个则是弹窗的框\r\n                animation: bounce-in .3s;\r\n            }\r\n        }\r\n    }\r\n\r\n    //https://cn.vuejs.org/v2/guide/transitions.html#CSS-动画\r\n    @keyframes bounce-in{\r\n        0%{\r\n            transform: scale(0);\r\n        }\r\n        50%{\r\n            transform: scale(1.1);\r\n        }\r\n        100%{\r\n            transform: scale(1);\r\n        }\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/base/confirm/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"mine-confirm\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"mine-confirm-wrapper\"},[_c('div',{staticClass:\"mine-confirm\"},[_c('div',{staticClass:\"mine-confirm-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"mine-confirm-msg\"},[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('div',{staticClass:\"mine-confirm-btns\"},[_c('button',{staticClass:\"mine-confirm-btn mine-confirm-cancel\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelBtnText))]),_vm._v(\" \"),_c('button',{staticClass:\"mine-confirm-btn mine-confirm-ok\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmBtnText))])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d2b89b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/confirm/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d2b89b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d2b89b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d2b89b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/confirm/index.vue\n// module id = null\n// module chunks = ","<!-- search搜索栏 history历史纪录组件 -->\r\n<template>\r\n    <div class=\"result\"> \r\n        <div class=\"loading-container\" v-show=\"loading\">\r\n            <me-loading></me-loading>\r\n        </div>\r\n        <ul class=\"g-list\" v-show=\"!loading && results.length\">\r\n            <li class=\"g-list-item\" v-for=\"(item,index) in results\" :key=\"index\" @click='$_selectItem(item[0])'>\r\n                <span class=\"g-list-text\">{{item[0]}}</span>\r\n            </li>\r\n        </ul>\r\n        <div class=\"no-result\" v-show=\"!loading && !results.length\">没有结果</div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import MeLoading from '@/base/loading';\r\n    import {getSearchResult} from '@/api/search';\r\n    import {searchMixin} from '@/assets/js/mixins';\r\n\r\n    export default{\r\n        name:'SearchResult',\r\n \r\n        data(){\r\n            return{\r\n                results:[],\r\n                loading:false\r\n            }\r\n        },\r\n        mixins:[searchMixin],\r\n        props:{\r\n            query:{\r\n                type:String,\r\n                default:''\r\n            }\r\n        },\r\n        components:{\r\n            'me-loading':MeLoading\r\n        },\r\n        watch:{\r\n            query(query){\r\n                this.getResults(query);\r\n            }\r\n        },\r\n        methods:{\r\n            getResults(keyword){\r\n                if(!keyword){\r\n                    return;\r\n                }\r\n                this.loading = true;\r\n                getSearchResult(keyword).then( (data) =>{\r\n                    if(data){\r\n                        this.results = data;\r\n                        this.loading = false;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n    \r\n    .result{\r\n        background-color: #fff;\r\n\r\n        .loading-container{\r\n            padding-top: 20px;\r\n            padding-bottom: 20px;\r\n        }\r\n    }\r\n    .no-result{\r\n        text-align:center;\r\n        font-size: 18px;\r\n        padding-top: 20px;\r\n        padding-bottom: 20px;\r\n\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/search/result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"result\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading-container\"},[_c('me-loading')],1),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && _vm.results.length),expression:\"!loading && results.length\"}],staticClass:\"g-list\"},_vm._l((_vm.results),function(item,index){return _c('li',{key:index,staticClass:\"g-list-item\",on:{\"click\":function($event){return _vm.$_selectItem(item[0])}}},[_c('span',{staticClass:\"g-list-text\"},[_vm._v(_vm._s(item[0]))])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.results.length),expression:\"!loading && !results.length\"}],staticClass:\"no-result\"},[_vm._v(\"没有结果\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45c41154\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45c41154\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45c41154\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-45c41154\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/result.vue\n// module id = null\n// module chunks = ","<!-- search搜索页面 -->\r\n<template>\r\n    <transition name=\"search\">\r\n        <div class=\"search\">\r\n            <header class=\"g-header-container\">\r\n                <search-header @query=\"getQuery\"></search-header>\r\n            </header>\r\n            <div class=\"g-content-container\">\r\n                <me-scroll ref=\"scroll\">\r\n                    <search-hot @loaded=\"updateScroll\" v-show=\"!query\"></search-hot>\r\n                    <!-- 当清空历史搜索按钮被点击时候触发show-confirm -->\r\n                    <search-history @loaded=\"updateScroll\" @remove-item=\"updateScroll\"  @show-confirm=\"showConfirm\" ref=\"history\"  v-show=\"!query\"></search-history>\r\n                    <search-result  v-show=\"query\" :query=\"query\"></search-result>\r\n                </me-scroll>\r\n            </div> \r\n            <me-confirm msg=\"确定要清空吗？\" ref=\"confirm\" @cancel=\"cancelConfirm\" @confirm=\"clearAllSearchHistorys\"></me-confirm>\r\n        </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\n    import SearchHeader from './header';\r\n    import SearchHot from './hot';\r\n    import SearchHistory from './history';\r\n    import MeScroll from '@/base/scroll';      \r\n    import MeConfirm from '@/base/confirm';\r\n    import SearchResult from './result';\r\n\r\n    export default{\r\n        data(){\r\n            return{\r\n                query:''\r\n            }\r\n        },\r\n        components:{\r\n            'search-header':SearchHeader,\r\n            'me-scroll':MeScroll,\r\n            'search-hot':SearchHot,\r\n            'search-history':SearchHistory,\r\n            'me-confirm':MeConfirm,\r\n            'search-result':SearchResult\r\n        },\r\n        methods:{\r\n            getQuery(query){\r\n                // console.log(query);\r\n                this.query = query;\r\n            },\r\n            updateScroll(){\r\n                // console.log(1);\r\n                setTimeout(()=>{\r\n                    this.$refs.scroll && this.$refs.scroll.update();\r\n                },100);\r\n            },\r\n            showConfirm(){\r\n                //显示一个弹窗\r\n                this.$refs.confirm.show();\r\n            },\r\n            cancelConfirm(){\r\n                console.log('取消');\r\n            },\r\n            clearAllSearchHistorys(){\r\n                console.log('确定');\r\n                // 通过接口 让历史搜索中的缓存数据被清除\r\n                this.$refs.history.clear();\r\n                //更新滑动\r\n                this.$refs.history.update();\r\n            },\r\n            \r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    @import '~@/assets/scss/mixins';\r\n\r\n    \r\n    .search{\r\n        // overflow: hidden;\r\n        // width: 100%;\r\n        // height: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        z-index: $search-z-index;\r\n        background-color:$bgc-theme;\r\n        height:100%;\r\n\r\n        .g-content-container{\r\n            padding-top: 50px;\r\n            height: 100%;\r\n        }\r\n    }\r\n\r\n    .search{\r\n        // 动画效果\r\n        &-enter-active,&-leave-active{\r\n            transition: all .3s;\r\n        }\r\n        // 显->隐藏的最终阶段 和 隐藏->显开始时 的状态为 \r\n        &-enter,&-leave-to{\r\n            transform: translate3d(100%,0,0);\r\n        }\r\n    }\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/search/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"search\"}},[_c('div',{staticClass:\"search\"},[_c('header',{staticClass:\"g-header-container\"},[_c('search-header',{on:{\"query\":_vm.getQuery}})],1),_vm._v(\" \"),_c('div',{staticClass:\"g-content-container\"},[_c('me-scroll',{ref:\"scroll\"},[_c('search-hot',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],on:{\"loaded\":_vm.updateScroll}}),_vm._v(\" \"),_c('search-history',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],ref:\"history\",on:{\"loaded\":_vm.updateScroll,\"remove-item\":_vm.updateScroll,\"show-confirm\":_vm.showConfirm}}),_vm._v(\" \"),_c('search-result',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],attrs:{\"query\":_vm.query}})],1)],1),_vm._v(\" \"),_c('me-confirm',{ref:\"confirm\",attrs:{\"msg\":\"确定要清空吗？\"},on:{\"cancel\":_vm.cancelConfirm,\"confirm\":_vm.clearAllSearchHistorys}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b92077a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/search/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b92077a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b92077a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b92077a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/search/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}